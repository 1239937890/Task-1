package task.jnshu.service;import org.apache.log4j.Logger;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Service;import org.springframework.transaction.annotation.Transactional;import task.jnshu.dao.StudentMapper;import task.jnshu.model.Student;import java.util.Date;import java.util.List;/** * 本类完成单个或全体学生信息查询 * 指定条件的学生数量 * Created by Administrator on 7/8/2017. */@Service("studentService")public class StudentServiceImpl implements StudentService{    private static Logger loggerSSI= Logger.getLogger(StudentServiceImpl.class);    @Autowired    private StudentMapper studentMapper;    public Student studentSelect(int id){//        loggerSSI.info("测试查询\n");        Student study = new Student();        study = studentMapper.selectByPrimaryKey(id);//        loggerSSI.info("学生信息： \n" + study);        return study;    }    public int selectStudentNumber( Integer status){        int i = studentMapper.selectStudentNumber(status);        return i;    }    public List<Student> studentAll(){        List<Student> students = studentMapper.studentAll();        return students;    }    public Student selectUser(String user){        Student study = studentMapper.selectUser(user);        return study;    }    public int selectUserNumber(String user){        int i = studentMapper.selectUserNumber(user);        return i;    }    //注册    @Transactional    public int insertSelective(Student record){            record.setImages("452758278.png");            record.setCreateAt(new Date().getTime());            record.setUpdateAt(System.currentTimeMillis());            Long enrolAt = Long.valueOf(0);            record.setEnrolAt(enrolAt);            record.setStatus(-1);            record.setProfession("IT");            int i = studentMapper.insertSelective(record);            return i;            //事务管理器//            if (record.getQq() < 99999){//                throw new RuntimeException();//            }//            else//                return i;    }}